{"remainingRequest":"C:\\Users\\Admin\\Desktop\\POST\\article.github.io\\frontend\\blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Admin\\Desktop\\POST\\article.github.io\\frontend\\blog\\src\\components\\Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Admin\\Desktop\\POST\\article.github.io\\frontend\\blog\\src\\components\\Dashboard.vue","mtime":1613966510000},{"path":"C:\\Users\\Admin\\Desktop\\POST\\article.github.io\\frontend\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Admin\\Desktop\\POST\\article.github.io\\frontend\\blog\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Admin\\Desktop\\POST\\article.github.io\\frontend\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Admin\\Desktop\\POST\\article.github.io\\frontend\\blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCYXNlUmVxdWVzdCBmcm9tICIuLi9jb3JlL0Jhc2VSZXF1ZXN0IjsKaW1wb3J0ICdqcXVlcnkvZGlzdC9qcXVlcnkubWluLmpzJzsKaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JzsKZXhwb3J0IGRlZmF1bHQgewogICAgCiAgICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgICBwb3N0OiB7CiAgICAgICAgICAgIHRpdGxlOicnLAogICAgICAgICAgICBjb250ZW50OicnCiAgICAgICAgfSwKICAgICAgICBlcnJvcnM6IHt9LAogICAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgfQp9LCAKbW91bnRlZCgpIHsKICAgIHRoaXMuY2hlY2tMb2dpbigpOwp9LAptZXRob2RzIDogewogICAgY2hlY2tMb2dpbjogZnVuY3Rpb24gKCl7CiAgICAgICBCYXNlUmVxdWVzdC5nZXQoJ3VzZXJJbmZvJykKICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogImxvZ2luIn0pCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgIH0sCiAgICBjcmVhdGVQb3N0OiBmdW5jdGlvbigpIHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgIAogICAgICAgICAgICBCYXNlUmVxdWVzdC5wb3N0KCdwb3N0Jyx0aGlzLnBvc3QpCiAgICAgICAgICAgIC50aGVuKCgpPT57CiAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdWNjZXNzUG9zdCIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgICAgICAgJCgiI3N1Y2Nlc3NQb3N0Iikuc2xpZGVEb3duKDEwMCk7CiAgICAgICAgICAgICAgICAkKCIjc3VjY2Vzc1Bvc3QiKS5zbGlkZVVwKDEwMDApOwogICAgICAgICAgICAgICAgdGhpcy5wb3N0ID0ge3RpdGxlOiAiIiwgY29udGVudDoiIn07CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAiSG9tZVBhZ2UifSkKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGVycm9yPT4gewogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3JzOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwogICAgfSwKICAgICBsb2dvdXQ6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN1Y2Nlc3NMb2dvdXQiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICAgICAgICAgICQoIiNzdWNjZXNzTG9nb3V0Iikuc2xpZGVEb3duKDEwMCk7CiAgICAgICAgICAgICAgICAkKCIjc3VjY2Vzc0xvZ291dCIpLnNsaWRlVXAoMTAwMCk7CiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogImxvZ2luIn0pOwogICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgCiAgICAgICAgfQogICAgCn0KfQo="},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA","file":"Dashboard.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"container\">\n        <button @click=\"logout()\" class=\"btn btn-danger logout\">Logout</button>\n          <form @submit.prevent=\"createPost()\">\n       <div class=\" mx-auto  mt-5\"  style=\"width:600px;\">\n            <div class=\"form-group\">\n                <label for=\"title\">Title:</label>\n                <input v-model=\"post.title\" type=\"text\" name=\"title\" class=\"form-control\"  :class=\"{'is-invalid': errors.title}\" >\n                 <div v-if=\"errors.title\" class=\"invalid-feedback\">{{errors.title[0]}}</div> \n             <div class=\"form-group\">\n                    <label for=\"content\">Content</label>\n                    <textarea  rows=\"10\" v-model=\"post.content\" type=\"text\" name=\"content\" class=\"form-control\" :class=\"{'is-invalid': errors.content}\"></textarea>\n                    <div v-if=\"errors.content\" class=\"invalid-feedback\">{{errors.content[0]}}</div> \n            <button type=\"submit\" class=\"btn btn-primary mt-4\"> <span v-if=\"loading\" class=\"spinner-border text-danger\"></span>Submit</button>\n   </div>\n  </div>\n        </div>\n          </form>\n          <router-link class=\"btn btn-warning\" :to=\"'/'\">Back</router-link>\n    </div>\n</template>\n<script>\nimport BaseRequest from \"../core/BaseRequest\";\nimport 'jquery/dist/jquery.min.js';\nimport $ from 'jquery';\nexport default {\n    \n    data() {\n    return {\n        post: {\n            title:'',\n            content:''\n        },\n        errors: {},\n        loading: false,\n    }\n}, \nmounted() {\n    this.checkLogin();\n},\nmethods : {\n    checkLogin: function (){\n       BaseRequest.get('userInfo')\n            .then(function (response) {\n                console.log(response);\n            })\n            .catch(() => {\n                this.$router.push({name: \"login\"})\n            });\n            \n    },\n    createPost: function() {\n        this.loading = true;\n        \n            BaseRequest.post('post',this.post)\n            .then(()=>{\n               document.getElementById(\"successPost\").style.display = \"block\";\n                $(\"#successPost\").slideDown(100);\n                $(\"#successPost\").slideUp(1000);\n                this.post = {title: \"\", content:\"\"};\n                this.loading = false;\n                this.$router.push({name: \"HomePage\"})\n            })\n            .catch(error=> {\n                this.loading = false;\n                this.errors = error.response.data.errors;\n                \n            });\n    },\n     logout: function() {\n                document.getElementById(\"successLogout\").style.display = \"block\";\n                $(\"#successLogout\").slideDown(100);\n                $(\"#successLogout\").slideUp(1000);\n                window.localStorage.removeItem('token');\n                this.$router.push({name: \"login\"});\n               \n                  \n        }\n    \n}\n}\n</script>\n"]}]}